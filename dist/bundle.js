!function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}var installedModules={};__webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.i=function(value){return value},__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=13)}([function(module,exports,__webpack_require__){"use strict";var THREEx=THREEx||{};THREEx.ArPatternFile={},THREEx.ArPatternFile.toCanvas=function(patternFileString,onComplete){console.assert(!1,"not yet implemented")},THREEx.ArPatternFile.encodeImageURL=function(imageURL,onComplete){var image=new Image;image.onload=function(){var patternFileString=THREEx.ArPatternFile.encodeImage(image);onComplete(patternFileString)},image.src=imageURL},THREEx.ArPatternFile.encodeImage=function(image){var canvas=document.createElement("canvas"),context=canvas.getContext("2d");canvas.width=16,canvas.height=16;for(var patternFileString="",orientation=0;orientation>-2*Math.PI;orientation-=Math.PI/2){context.save(),context.clearRect(0,0,canvas.width,canvas.height),context.translate(canvas.width/2,canvas.height/2),context.rotate(orientation),context.drawImage(image,-canvas.width/2,-canvas.height/2,canvas.width,canvas.height),context.restore();var imageData=context.getImageData(0,0,canvas.width,canvas.height);0!==orientation&&(patternFileString+="\n");for(var channelOffset=2;channelOffset>=0;channelOffset--)for(var y=0;y<imageData.height;y++){for(var x=0;x<imageData.width;x++){0!==x&&(patternFileString+=" ");var offset=y*imageData.width*4+4*x+channelOffset,value=imageData.data[offset];patternFileString+=String(value).padStart(3)}patternFileString+="\n"}}return patternFileString},THREEx.ArPatternFile.triggerDownload=function(patternFileString){var domElement=window.document.createElement("a");domElement.href=window.URL.createObjectURL(new Blob([patternFileString],{type:"text/plain"})),domElement.download="generated-marker.patt",document.body.appendChild(domElement),domElement.click(),document.body.removeChild(domElement)},THREEx.ArPatternFile.buildFullMarker=function(innerImageURL,onComplete){var canvas=document.createElement("canvas"),context=canvas.getContext("2d");canvas.width=canvas.height=512,context.fillStyle="white",context.fillRect(0,0,canvas.width,canvas.height),context.fillStyle="black",context.fillRect(.1*canvas.width,.1*canvas.height,.8*canvas.width,.8*canvas.height),context.fillStyle="white",context.fillRect((.1+.2)*canvas.width,(.1+.2)*canvas.height,canvas.width*(1-2*(.1+.2)),canvas.height*(1-2*(.1+.2)));var innerImage=document.createElement("img");innerImage.addEventListener("load",function(){context.drawImage(innerImage,(.1+.2)*canvas.width,(.1+.2)*canvas.height,canvas.width*(1-2*(.1+.2)),canvas.height*(1-2*(.1+.2)));var imageUrl=canvas.toDataURL();onComplete(imageUrl)}),innerImage.src=innerImageURL}},function(module,exports,__webpack_require__){"use strict";angular.module("app").controller("aboutCtrl",function($scope){$scope.algo="about",$(document).ready(function(){$(".parallax").parallax()})})},function(module,exports,__webpack_require__){"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}var _regeneratorRuntime=__webpack_require__(14);!function(obj){obj&&obj.__esModule}(_regeneratorRuntime);angular.module("app").controller("appCtrl",function($scope,$location,$rootScope,Upload,$timeout,$http){var tmpList=[];$scope.arrow={},$scope.arrow.profile=!1,$scope.arrow.advOptions=!1,$scope.arrow.folderResource=!1,$scope.arrow.folderGuide=!1,$scope.fileCheckShow=!1,$scope.customOption=$rootScope.customOption,$scope.file="",$scope.models=[],$rootScope.fullName=localStorage.getItem("name")+" "+localStorage.getItem("lastName"),$rootScope.login=localStorage.getItem("token"),$rootScope.rolUser=localStorage.getItem("rolUser"),$rootScope.pathTeacher=JSON.parse(localStorage.getItem("pathTeacher")),$rootScope.pathTmp=JSON.parse(localStorage.getItem("pathTmp")),$rootScope.markers=JSON.parse(localStorage.getItem("markers")),$rootScope.path="/testMarker",$scope.home=function(){$location.path("/home")},$scope.createMarker=function(){$location.path("/createMarker")},$scope.testMarker=function(){$rootScope.path="/testMarker",$location.path("/testMarker")},$scope.createModel=function(){$rootScope.path="/createModel2",$location.path("/createModel2")},$scope.mathEditor=function(){$rootScope.path="/mathEditor",$location.path("/mathEditor")},$scope.isLogin=function(){return""!==$rootScope.login&&null!==$rootScope.login},$scope.updateGraph=function(){var newFunction=document.querySelector("#zFunctionText").value,scene=document.querySelector("#scene");scene.removeChild(scene.childNodes[3]),$rootScope.graph(newFunction,$scope.customOption)},$scope.graphGenerate=function(){$rootScope.exporter()},$scope.logout=function(){$rootScope.login="",$rootScope.rolUser="",$rootScope.path="",$rootScope.markers=[],tmpList=[],$scope.arrow={},$scope.arrow.profile=!1,$scope.arrow.advOptions=!1,$scope.arrow.folderResource=!1,$scope.arrow.folderGuide=!1,$scope.fileCheckShow=!1,$scope.customOption="",$scope.file="",$scope.models=[],$rootScope.login="",$rootScope.rolUser="",$rootScope.pathTeacher="",$rootScope.pathTmp="",localStorage.removeItem("markers"),localStorage.removeItem("token"),localStorage.removeItem("rol"),localStorage.removeItem("pathTeacher"),localStorage.removeItem("pathTmp"),localStorage.removeItem("name"),localStorage.removeItem("lastName"),localStorage.removeItem("ci_teacher"),localStorage.clear(),$scope.home()},$scope.eventArrowOption=function(){$scope.arrow.advOptions=!$scope.arrow.advOptions,$scope.arrow.typeOption="graph"},$scope.modelFileLoad=function(){$http({method:"POST",url:"/model/:3",data:{path:$rootScope.pathTmp.pathModelTmp},headers:{"Content-Type":"application/json;charset=utf-8"}}).then(function(data){console.log("data",data);var pathClient=data.data.pathClient,pathServer=data.data.pathServer,models=data.data.pathFilesName;$scope.models=models.map(function(obj){return{name:obj,src:pathClient+obj,deleteSrc:pathServer+obj}})})},$scope.print=function(){console.log("marker",$rootScope.markers)},$scope.importFileObj=function(file){console.log("$rootScope.pathTmp.pathModelTmp",$rootScope.pathTmp.pathModelTmp),Upload.upload({url:"/model",method:"POST",data:{dirToSave:$rootScope.pathTmp.pathModelTmp},file:file}).then(function(response){console.log("response.data.pathClient",response.data.pathClient),console.log("response.data.pathFilesName",response.data.pathFilesName),$scope.models.push({name:response.data.pathFilesName,src:response.data.pathClient+response.data.pathFilesName,deleteSrc:response.data.pathServer+response.data.pathFilesName})}).catch(function(err){console.log("err",err.data.error)})},$scope.modelFileDelete=function(){var selectModel=$scope.models.filter(function(obj){if(obj.check)return obj});console.log("selectModel",selectModel),$http({method:"DELETE",url:"/model/:3",data:{path:selectModel},headers:{"Content-Type":"application/json;charset=utf-8"}}).then(function(response){$scope.models=$scope.models.filter(function(obj){if(!obj.check)return obj})}).catch(function(err){console.log("err",err)})},$scope.markerDelete=function(){var selectMarker=$rootScope.markers.filter(function(obj){if(obj.check)return obj});selectMarker.map(function(obj){obj.src.length>=1&&$scope.models.unshift(obj.src[0])}),$http({method:"DELETE",url:"/createMarker/:3",data:{path:selectMarker},headers:{"Content-Type":"application/json;charset=utf-8"}}).then(function(response){selectMarker.map(function(obj){obj.src.length>=1&&$scope.deleteOfScene(obj.src[0].name)}),$rootScope.markers=$rootScope.markers.filter(function(obj){if(!angular.isDefined(obj.check)||!obj.check)return obj}),localStorage.setItem("markers",JSON.stringify($rootScope.markers))}).catch(function(err){console.log("err",err)})},$scope.updateScene=function(index){$timeout(function(){$rootScope.markers[index].name=$rootScope.markers[index].src[0].name,localStorage.setItem("markers",JSON.stringify($rootScope.markers));var scene=document.querySelector("a-scene"),assets=scene.querySelector("#a-assets"),target=scene.querySelector("#target"),newAssetItem=document.createElement("a-asset-item");newAssetItem.setAttribute("id",$rootScope.markers[index].src[0].name),newAssetItem.setAttribute("src",$rootScope.markers[index].src[0].src),assets.appendChild(newAssetItem);var newAMarker=document.createElement("a-marker");newAMarker.setAttribute("id",$rootScope.markers[index].src[0].name),newAMarker.setAttribute("type","pattern"),newAMarker.setAttribute("url",$rootScope.markers[index].pattFilePath),newAMarker.setAttribute("minConfidence",1),target.appendChild(newAMarker),$timeout(function(){var newGltfModel=document.createElement("a-gltf-model");newGltfModel.setAttribute("src","#"+$rootScope.markers[index].src[0].name),newGltfModel.setAttribute("position","0 0.5 0"),newGltfModel.setAttribute("scale","0.5 0.5 0.5");var nameModel=$rootScope.markers[index].src[0].name;target.childNodes.forEach(function(element,index){if("string"==typeof element.id&&element.id===nameModel)return void target.childNodes[index].appendChild(newGltfModel)})},500),$rootScope.markers[index].src.length>1&&($scope.deleteOfScene($rootScope.markers[index].src[1].name),$scope.models.unshift($rootScope.markers[index].src.pop()))},0)},$scope.deleteOfScene=function(nameModel){var scene=document.querySelector("a-scene"),assetItemParent=scene.querySelector("#a-assets"),markersParent=scene.querySelector("#target");assetItemParent.childNodes.forEach(function(element,index){if("string"==typeof element.id&&element.id===nameModel)return assetItemParent.removeChild(assetItemParent.childNodes[index]),void markersParent.removeChild(markersParent.childNodes[index])})},$scope.generatePdf=function(){var markersWithResources=$rootScope.markers.filter(function(obj){if(obj.src.length>=1)return obj}),i=0,content=[],rowImg={};rowImg.columns=[];var rowText={};rowText.columns=[],markersWithResources.map(function(obj){var columnInfoImg={},columnInfoText={};columnInfoImg.alignment="center",columnInfoImg.image=obj.markerImage,columnInfoImg.width=250,columnInfoImg.margin=[0,0,0,0],columnInfoText.alignment="center",columnInfoText.text=obj.name,columnInfoText.margin=[0,0],rowImg.columns.push(columnInfoImg),rowText.columns.push(columnInfoText),2===rowImg.columns.length?(Object.assign.apply(Object,[content[i]].concat(_toConsumableArray(rowImg.columns))),Object.assign.apply(Object,[content[i+1]].concat(_toConsumableArray(rowText.columns))),rowImg={},rowImg.columns=[],rowText={},rowText.columns=[],i+=2):(content[i]=rowImg,i+1===markersWithResources.length?(content[i]={alignment:"center",image:rowImg.columns[0].image,width:250},content[i+1]={text:rowText.columns[0].text,alignment:"center"}):content[i+1]=rowText)});var docDefinition={pageMargins:[50,10,50,10],content:content};pdfMake.createPdf(docDefinition).open()},$scope.insertImage=function(index){var doc=document.querySelector(".ql-editor"),image=document.createElement("img");image.setAttribute("src",$rootScope.markers[index].markerImage);var p=document.createElement("p");p.appendChild(image),doc.appendChild(p)},$scope.pdfGenerate=function(){document.querySelector(".ql-editor").setAttribute("id","mathEditor"),xepOnline.Formatter.Format("mathEditor",{render:"download"})},$scope.saveResource=function(){var resources=JSON.parse(localStorage.getItem("markers")).filter(function(obj){if(obj.src.length>0)return obj});resources=resources.map(function(obj){return{pattFilePath:obj.pattFilePath,gltfFilePath:obj.src[0].src}});var json={resources:resources,ci_teacher:localStorage.getItem("ci_teacher")};console.log("json",json),$http({method:"POST",url:"/guide",data:json,headers:{"Content-Type":"application/json;charset=utf-8"}}).then(function(data){console.log("response",data)})},$scope.sortableOptions={placeholder:"app",connectWith:".apps-container"}})},function(module,exports,__webpack_require__){"use strict";angular.module("app").controller("homeCtrl",function($scope,$http,$auth,$location,$rootScope){$scope.form,$http.get("/register").then(function(data){console.log(data),$scope.view=data.data}),$scope.login=function(){$http.post("/login",$scope.form,"json").then(function(data){console.log("DATA",data.data),localStorage.setItem("name",data.data.name),localStorage.setItem("lastName",data.data.lastName),localStorage.setItem("token",data.data.token),localStorage.setItem("rolUser",data.data.rol),$rootScope.login=localStorage.getItem("token"),$rootScope.rolUser=localStorage.getItem("rolUser"),$rootScope.fullName=localStorage.getItem("name")+" "+localStorage.getItem("lastName"),$rootScope.path="/testMarker",3===data.data.rol&&(localStorage.setItem("ci_teacher",data.data.ci),localStorage.setItem("pathTeacher",JSON.stringify(data.data.pathTeacher)),localStorage.setItem("pathTmp",JSON.stringify(data.data.pathTmp)),$rootScope.pathTeacher=JSON.parse(localStorage.getItem("pathTeacher")),$rootScope.pathTmp=JSON.parse(localStorage.getItem("pathTmp")),$rootScope.imgFileLoad()),$location.path("/testMarker")},function(error){console.log("error",error)})},$scope.register=function(){$location.path("/register")}})},function(module,exports,__webpack_require__){"use strict";angular.module("app").controller("markerGenerateCtrl",function($scope,$http,$location){$scope.entrada="",$scope.imageQr="",$scope.markerGenerated="",$scope.buildMarker=function(imageQr){THREEx.ArPatternFile.buildFullMarker(imageQr,function(markerUrl){var markerImage=document.createElement("img");markerImage.src=markerUrl;for(var container=document.querySelector("#qr");container.firstChild;)container.removeChild(container.firstChild);container.appendChild(markerImage),$scope.markerGenerated=markerImage})},$scope.pattFileGenerate=function(imageQr,markerGenerated){null!==imageQr&&void 0!==imageQr&&null!==markerGenerated&&void 0!==markerGenerated&&THREEx.ArPatternFile.encodeImageURL(imageQr,function(patternFileString){var file=new FileReader;file.readAsDataURL(new Blob([patternFileString],{type:"text/plain"})),file.onload=function(){var data={};data.pattFile=file.result.substr(23),data.pattFileImage=markerGenerated.src.substr(21),data.name="gregory",data.asignature="vectorial",$http.post("/createMarker",data,"json").then(function(response){console.log("response",response)},function(error){console.log("error",error)})}})},$scope.markerGenerate=function(){var container=document.createElement("div");new QRCode(container,{text:$scope.entrada,width:256,height:256,colorDark:"#000000",colorLight:"#ffffff"});console.log("container",container);var canvasImg=container.querySelector("canvas"),image=canvasImg.toDataURL("image/png");$scope.imageQr=image,$scope.buildMarker(image)},$scope.generatePdf=function(){var docDefinition={content:[{image:$scope.markerGenerated.src,width:300,alignment:"center"}]};pdfMake.createPdf(docDefinition).open()},$scope.logout=function(){localStorage.clear(),$location.path("/home")}})},function(module,exports,__webpack_require__){"use strict";var _ImageImport=__webpack_require__(11),_ImageResize=__webpack_require__(12);angular.module("app").controller("mathEditorCtrl",function($scope,$rootScope){$rootScope.login=localStorage.getItem("token"),$rootScope.rolUser=localStorage.getItem("rolUser"),$rootScope.path="/mathEditor",Quill.register("modules/imageImport",_ImageImport.ImageImport),Quill.register("modules/imageResize",_ImageResize.ImageResize);var toolbarOptions=[[{header:[1,2,3,4,5,6,!1]}],[{font:[]}],[{size:["small",!1,"large","huge"]}],["blockquote","code-block"],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{align:[]}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{color:[]},{background:[]}],["link","image","video","formula"],["clean"]];new Quill("#editor",{theme:"snow",modules:{formula:!0,toolbar:toolbarOptions,history:{delay:1e3,maxStack:50,userOnly:!1},imageImport:!0,imageResize:{displaySize:!0}}});$scope.hola=function(){var remove=document.querySelector(".ql-toolbar"),editor=document.querySelector("#editor"),parent=remove.parentNode;parent.removeChild(remove),window.print(),window.close(),parent.insertBefore(remove,editor)}})},function(module,exports,__webpack_require__){"use strict";angular.module("app").controller("modelGenerateCtrl2",function($scope,$rootScope,$http){$("#menu-toggle").click(function(e){e.preventDefault(),$("#wrapper").toggleClass("toggled")}),$rootScope.login=localStorage.getItem("token"),$rootScope.rolUser=localStorage.getItem("rolUser"),$rootScope.login=localStorage.getItem("token"),$rootScope.rolUser=localStorage.getItem("rolUser"),$rootScope.pathTeacher=JSON.parse(localStorage.getItem("pathTeacher")),$rootScope.pathTmp=JSON.parse(localStorage.getItem("pathTmp")),$rootScope.path="/createModel2",$rootScope.graph($rootScope.zFuncTextR,$rootScope.customOption)})},function(module,exports,__webpack_require__){"use strict";angular.module("app").controller("registerCtrl",function($scope,$http,$auth,$location){$scope.form={},$scope.view={},$http.get("/register").then(function(data){console.log(data),$scope.view=data.data,$scope.view.teachers.map(function(obj){return obj.fullName=obj.name+" "+obj.last_name}),console.log("json register",$scope.view)}),$scope.register=function(){$scope.form.rol=Number($scope.form.rol),$scope.form.school=Number($scope.form.school),console.log("register scope.form",$scope.form),console.log("json",$scope.form),$http.post("/register/:"+$scope.form.rol,$scope.form,"json").then(function(data){console.log("data",data)}).catch(function(response){console.log("log incorrecto")})},$scope.login=function(){$location.path("/")},$scope.filterNumberOnly=function($event){isNaN(String.fromCharCode($event.keyCode))&&$event.preventDefault()},$scope.filterLettersOnly=function($event){$event.which>=65&&$event.which<=90||8===$event.which||37===$event.which||39===$event.which||46===$event.which||9===$event.which||$event.preventDefault()}}),angular.module("app").filter("capitalize",function(){return function(input){return input?input.charAt(0).toUpperCase()+input.substr(1).toLowerCase():""}})},function(module,exports,__webpack_require__){"use strict";angular.module("app").controller("testMarkerCtrl",function($scope,$rootScope){function handleSceneLoaded(){document.querySelector("#camera").setAttribute("orbit-controls","enabled",!1),document.querySelector("#camera").setAttribute("position","0 2 10"),document.querySelector("#camera").setAttribute("orbit-controls","enabled",!0),document.querySelector("#camera").addEventListener("start-drag-orbit-controls"),document.querySelector("#camera").addEventListener("end-drag-orbit-controls")}$("#menu-toggle").click(function(e){e.preventDefault(),$("#wrapper").toggleClass("toggled")}),$rootScope.login=localStorage.getItem("token"),$rootScope.rolUser=localStorage.getItem("rolUser"),$rootScope.login=localStorage.getItem("token"),$rootScope.rolUser=localStorage.getItem("rolUser"),$rootScope.pathTeacher=JSON.parse(localStorage.getItem("pathTeacher")),$rootScope.pathTmp=JSON.parse(localStorage.getItem("pathTmp")),$rootScope.path="/testMarker",document.addEventListener("DOMContentLoaded",function(){var scene=document.querySelector("a-scene");scene.hasLoaded?addEventListeners():scene.addEventListener("loaded",handleSceneLoaded)})})},function(module,exports,__webpack_require__){"use strict";angular.module("app",["ngRoute","ngStorage","satellizer","ui.bootstrap","ui.sortable","ngFileUpload"]).run(function($http,$rootScope,$location){var scene=void 0;$rootScope.login=localStorage.getItem("token");var markerCreated=JSON.parse(localStorage.getItem("markers"));$rootScope.markers=[],markerCreated&&($rootScope.markers=markerCreated.map(function(obj){return{imgFileDir:obj.imgFileDir,imgFilePath:obj.imgFilePath,pattFileDir:obj.pattFileDir,pattFilePath:obj.pattFilePath,markerImage:obj.markerImage}})),$rootScope.path=$location.path(),$rootScope.zFuncTextR="x^2 - y^2",$rootScope.customOption={},$rootScope.customOption.x={},$rootScope.customOption.y={},$rootScope.customOption.z={},$rootScope.customOption.x.min=-3,$rootScope.customOption.x.max=3,$rootScope.customOption.y.min=-3,$rootScope.customOption.y.max=3,$rootScope.customOption.z.min=-3,$rootScope.customOption.z.max=3,$rootScope.customOption.planeSize=6,$rootScope.customOption.planeSubdivition=10,$rootScope.customOption.axisSize=10,$rootScope.graph=function(zFuncTextR,customOption){function meshFunction(a,b){var x=xRange*a+xMin,y=yRange*b+yMin,z=zFunc(x,y);return isNaN(z)?new THREE.Vector3(0,0,0):new THREE.Vector3(x,y,z)}function render(){renderer.render(scene,camera)}var graphMesh=void 0,xMin=customOption.x.min||-3,xMax=customOption.x.max||3,xRange=xMax-xMin,yMin=customOption.y.min||-3,yMax=customOption.y.max||3,yRange=yMax-yMin,zMin=customOption.z.min||-3,zMax=customOption.z.min||3,zRange=zMax-zMin,zFuncText=zFuncTextR||"x^2 - y^2",zFunc=Parser.parse(zFuncText).toJSFunction(["x","y"]);scene=new THREE.Scene,scene.background=new THREE.Color(15790320);var SCREEN_WIDTH=window.innerWidth,SCREEN_HEIGHT=window.innerHeight,ASPECT=SCREEN_WIDTH/SCREEN_HEIGHT,camera=new THREE.PerspectiveCamera(45,ASPECT,.1,2e4);camera.position.set(2*xMax,.5*yMax,4*zMax),camera.up=new THREE.Vector3(0,0,1),camera.lookAt(scene.position),scene.add(camera),new THREE.OrbitControls(camera,document.getElementById("scene")).addEventListener("change",render);var helper=new THREE.GridHelper(customOption.planeSize,customOption.planeSubdivition);helper.rotateX(Math.PI/2),helper.material.opacity=.25,helper.material.transparent=!0,scene.add(helper);var axis=new THREE.AxisHelper(customOption.axisSize);scene.add(axis);var renderer=new THREE.WebGLRenderer;renderer.setSize(window.innerWidth,window.innerHeight),document.getElementById("scene").appendChild(renderer.domElement),camera.position.z=5,THREEx.WindowResize(renderer,camera).stop();var wireTexture=new THREE.ImageUtils.loadTexture;wireTexture.wrapS=THREE.RepeatWrapping,wireTexture.wrapT=THREE.RepeatWrapping,wireTexture.repeat.set(40,40);var wireMaterial=new THREE.MeshBasicMaterial({map:wireTexture,vertexColors:THREE.VertexColors,side:THREE.DoubleSide}),vertexColorMaterial=new THREE.MeshBasicMaterial({vertexColors:THREE.VertexColors,side:THREE.DoubleSide});renderer.setClearColor(8947848,1),xRange=xMax-xMin,yRange=yMax-yMin,zFunc=Parser.parse(zFuncText).toJSFunction(["x","y"]);var graphGeometry=new THREE.ParametricGeometry(meshFunction,80,80,!0);graphGeometry.computeBoundingBox(),zMin=graphGeometry.boundingBox.min.z,zMax=graphGeometry.boundingBox.max.z,zRange=zMax-zMin;for(var color=void 0,point=void 0,face=void 0,numberOfSides=void 0,vertexIndex=void 0,faceIndices=["a","b","c","d"],i=0;i<graphGeometry.vertices.length;i++)point=graphGeometry.vertices[i],color=new THREE.Color(255),color.setHSL(.7*(zMax-point.z)/zRange,1,.5),graphGeometry.colors[i]=color;for(var _i=0;_i<graphGeometry.faces.length;_i++){face=graphGeometry.faces[_i],numberOfSides=face instanceof THREE.Face3?3:4;for(var j=0;j<numberOfSides;j++)vertexIndex=face[faceIndices[j]],face.vertexColors[j]=graphGeometry.colors[vertexIndex]}graphMesh&&scene.remove(graphMesh),wireMaterial.map.repeat.set(80,80),graphMesh=new THREE.Mesh(graphGeometry,vertexColorMaterial),graphMesh.side=THREE.DoubleSide,scene.add(graphMesh)},$rootScope.exporter=function(){console.time("file");var exporter=new THREE.OBJExporter,model=LZMA.compress(exporter.parse(scene.children[3]),3),data={};data.model=model,data.name="model",data.asignature="vectorial",$http.post("/createModel2",data,"json").then(function(response){console.timeEnd("file end"),console.log("response",response)},function(error){console.log("error",error)})},$rootScope.buildMarker=function(imageQr,fileName){THREEx.ArPatternFile.buildFullMarker(imageQr,function(markerUrl){$rootScope.markerImage=markerUrl,$rootScope.pattFileGenerate(imageQr,markerUrl,fileName),$rootScope.$apply()})},$rootScope.pattFileGenerate=function(imageQr,markerGenerated,fileName){console.log("pattFileGenerate"),null!==imageQr&&void 0!==imageQr&&null!==markerGenerated&&void 0!==markerGenerated&&THREEx.ArPatternFile.encodeImageURL(imageQr,function(patternFileString){var file=new FileReader;file.readAsDataURL(new Blob([patternFileString],{type:"text/plain"})),file.onload=function(){var data={};data.markerImage=$rootScope.markerImage,data.pattFile=file.result.substr(23),data.pattFileImage=markerGenerated.substr(22),data.name=fileName,data.pattFileDir=$rootScope.pathTmp.pathPattTmp,data.imgFileDir=$rootScope.pathTmp.pathImageTmp,data.asignature="vectorial",$http.post("/createMarker",data,"json").then(function(response){response.data.newMarker.markerImage=$rootScope.markerImage,$rootScope.markers.unshift(response.data.newMarker),localStorage.setItem("markers",JSON.stringify($rootScope.markers))},function(error){console.log("error",error)})}})},$rootScope.markerGenerate=function(){$http.get("/createMarker").then(function(data){var container=document.createElement("div"),name=data.data.time.now,canvasImg=(new QRCode(container,{text:name,width:256,height:256,colorDark:"#000000",colorLight:"#ffffff"}),container.querySelector("canvas")),image=canvasImg.toDataURL("image/png");$rootScope.buildMarker(image,name)}).catch(function(e){return console.error(e.stack)})},$rootScope.imgFileLoad=function(){var pattFileDir=JSON.parse(localStorage.getItem("pathTmp")).pathPattTmp,imgFileDir=JSON.parse(localStorage.getItem("pathTmp")).pathImageTmp;$http({method:"POST",url:"/createMarker/:3",data:{pattFileDir:pattFileDir,imgFileDir:imgFileDir},headers:{"Content-Type":"application/json;charset=utf-8"}}).then(function(data){var pathServer=data.data[0].pathServer,pathClient=data.data[0].pathClient,files=data.data[0].pattFiles,markers=[];files.map(function(obj){var marker={pattFileDir:pathServer+obj,pattFilePath:pathClient+obj};markers.push(marker)}),pathServer=data.data[1].pathServer,pathClient=data.data[1].pathClient,files=data.data[1].pattFiles,files.map(function(obj,index){markers[index].imgFileDir=pathServer+obj,markers[index].imgFilePath=pathClient+obj,markers[index].markerImage=data.data[1].markerImage[index]}),localStorage.setItem("markers",JSON.stringify(markers)),$rootScope.markers=markers})}})},function(module,exports,__webpack_require__){"use strict";angular.module("app").config(function($authProvider,$routeProvider,$httpProvider,$locationProvider){$authProvider.tokenName="token",$authProvider.tokenPrefix="ARvector",$authProvider.tokenHeader="Authorization",$authProvider.tokenType="Bearer",$authProvider.storageType="localStorage",$routeProvider.when("/",{templateUrl:"views/home.html",controller:"homeCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"aboutCtrl"}).when("/createMarker",{templateUrl:"views/createMarker.html",controller:"markerGenerateCtrl"}).when("/createModel2",{templateUrl:"views/createModel2.html",controller:"modelGenerateCtrl2"}).when("/testMarker",{templateUrl:"views/testMarker.html",controller:"testMarkerCtrl"}).when("/mathEditor",{templateUrl:"views/mathEditor.html",controller:"mathEditorCtrl"}).when("/register",{templateUrl:"views/register.html",controller:"registerCtrl"}).otherwise({redirectTo:"/"}),$locationProvider.html5Mode(!0),$httpProvider.interceptors.push(function($q,$location,$localStorage){return{request:function(config){return config.headers=config.headers||{},localStorage.getItem("token")&&(config.headers.Authorization="Bearer "+localStorage.getItem("token")),config},responseError:function(response){return 401!==response.status&&403!==response.status||$location.path("/home"),$q.reject(response)}}})})},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.ImageImport=function(){function ImageImport(quill){arguments.length>1&&void 0!==arguments[1]&&arguments[1];_classCallCheck(this,ImageImport),this.quill=quill,this.handleDrop=this.handleDrop.bind(this),this.handlePaste=this.handlePaste.bind(this),this.quill.root.addEventListener("drop",this.handleDrop,!1),this.quill.root.addEventListener("paste",this.handlePaste,!1)}return _createClass(ImageImport,[{key:"handleDrop",value:function(evt){evt.preventDefault(),evt.dataTransfer&&evt.dataTransfer.files&&evt.dataTransfer.files.length&&this.readFiles(evt.dataTransfer.files,this.insert.bind(this))}},{key:"handlePaste",value:function(evt){var _this=this;evt.clipboardData&&evt.clipboardData.items&&evt.clipboardData.items.length&&this.readFiles(evt.clipboardData.items,function(dataUrl){_this.quill.getSelection()||setTimeout(function(){return _this.insert(dataUrl)},0)})}},{key:"insert",value:function(dataUrl){var index=(this.quill.getSelection()||{}).index||this.quill.getLength();this.quill.insertEmbed(index,"image",dataUrl,"user")}},{key:"readFiles",value:function(files,callback){[].forEach.call(files,function(file){if(file.type.match(/^image\/(gif|jpe?g|a?png|svg|webp|bmp|vnd\.microsoft\.icon)/i)){var reader=new FileReader;reader.onload=function(evt){callback(evt.target.result)};var blob=file.getAsFile?file.getAsFile():file;blob instanceof Blob&&reader.readAsDataURL(blob)}})}}]),ImageImport}()},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.ImageResize=function(){function ImageResize(quill){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,ImageResize),this.quill=quill,this.options=options,this.handleClick=this.handleClick.bind(this),this.handleMousedown=this.handleMousedown.bind(this),this.handleMouseup=this.handleMouseup.bind(this),this.handleDrag=this.handleDrag.bind(this),this.checkImage=this.checkImage.bind(this),this.boxes=[],document.execCommand("enableObjectResizing",!1,"false"),this.quill.root.addEventListener("click",this.handleClick,!1)}return _createClass(ImageResize,[{key:"handleClick",value:function(evt){if(evt.target&&evt.target.tagName&&"IMG"==evt.target.tagName.toUpperCase()){if(this.img===evt.target)return;this.img&&this.hide(),this.show(evt.target)}else this.img&&this.hide()}},{key:"show",value:function(img){this.img=img,this.showResizers(),this.showSizeDisplay();var rect=this.img.getBoundingClientRect();this.positionBoxes(rect),this.positionSizeDisplay(rect)}},{key:"hide",value:function(){this.hideResizers(),this.hideSizeDisplay(),this.img=void 0}},{key:"showResizers",value:function(){this.setUserSelect("none"),this.addBox("nwse-resize"),this.addBox("nesw-resize"),this.addBox("nwse-resize"),this.addBox("nesw-resize"),document.addEventListener("keyup",this.checkImage,!0),this.quill.root.addEventListener("input",this.checkImage,!0)}},{key:"hideResizers",value:function(){document.removeEventListener("keyup",this.checkImage),this.quill.root.removeEventListener("input",this.checkImage),this.setUserSelect(""),this.setCursor(""),this.boxes.forEach(function(box){return document.body.removeChild(box)}),this.dragBox=void 0,this.dragStartX=void 0,this.preDragWidth=void 0,this.boxes=[]}},{key:"addBox",value:function(cursor){var box=document.createElement("div"),styles={position:"absolute",height:"12px",width:"12px",backgroundColor:"white",border:"1px solid #777",boxSizing:"border-box",opacity:"0.80",cursor:cursor};this.extend(box.style,styles,this.options.handleStyles||{}),box.addEventListener("mousedown",this.handleMousedown,!1),document.body.appendChild(box),this.boxes.push(box)}},{key:"extend",value:function(destination){for(var _len=arguments.length,sources=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)sources[_key-1]=arguments[_key];return sources.forEach(function(source){for(var prop in source)source.hasOwnProperty(prop)&&(destination[prop]=source[prop])}),destination}},{key:"positionBoxes",value:function(rect){var _this=this;[{left:rect.left-6,top:rect.top-6},{left:rect.left+rect.width-6,top:rect.top-6},{left:rect.left+rect.width-6,top:rect.top+rect.height-6},{left:rect.left-6,top:rect.top+rect.height-6}].forEach(function(pos,idx){_this.extend(_this.boxes[idx].style,{top:Math.round(pos.top+window.pageYOffset)+"px",left:Math.round(pos.left+window.pageXOffset)+"px"})})}},{key:"handleMousedown",value:function(evt){this.dragBox=evt.target,this.dragStartX=evt.clientX,this.preDragWidth=this.img.width||this.img.naturalWidth,this.setCursor(this.dragBox.style.cursor),document.addEventListener("mousemove",this.handleDrag,!1),document.addEventListener("mouseup",this.handleMouseup,!1)}},{key:"handleMouseup",value:function(){this.setCursor(""),document.removeEventListener("mousemove",this.handleDrag),document.removeEventListener("mouseup",this.handleMouseup)}},{key:"handleDrag",value:function(evt){if(this.img){this.dragBox==this.boxes[0]||this.dragBox==this.boxes[3]?this.img.width=Math.round(this.preDragWidth-evt.clientX-this.dragStartX):this.img.width=Math.round(this.preDragWidth+evt.clientX-this.dragStartX);var rect=this.img.getBoundingClientRect();this.positionBoxes(rect),this.positionSizeDisplay(rect)}}},{key:"setUserSelect",value:function(value){var _this2=this;["userSelect","mozUserSelect","webkitUserSelect","msUserSelect"].forEach(function(prop){_this2.quill.root.style[prop]=value,document.documentElement.style[prop]=value})}},{key:"setCursor",value:function(value){[document.body,this.img,this.quill.root].forEach(function(el){return el.style.cursor=value})}},{key:"checkImage",value:function(){this.img&&this.hide()}},{key:"showSizeDisplay",value:function(){if(this.options.displaySize){this.display=document.createElement("div");var styles={position:"absolute",font:"12px/1.0 Arial, Helvetica, sans-serif",padding:"4px 8px",textAlign:"center",backgroundColor:"white",color:"#333",border:"1px solid #777",boxSizing:"border-box",opacity:"0.80",cursor:"default"};this.extend(this.display.style,styles,this.options.displayStyles||{}),document.body.appendChild(this.display)}}},{key:"hideSizeDisplay",value:function(){document.body.removeChild(this.display),this.display=void 0}},{key:"positionSizeDisplay",value:function(rect){if(this.display&&this.img){var size=this.getCurrentSize();if(this.display.innerHTML=size.join(" &times; "),size[0]>120&&size[1]>30){var dispRect=this.display.getBoundingClientRect();this.extend(this.display.style,{left:Math.round(rect.left+rect.width+window.pageXOffset-dispRect.width-8)+"px",top:Math.round(rect.top+rect.height+window.pageYOffset-dispRect.height-8)+"px"})}else this.extend(this.display.style,{left:Math.round(rect.left+rect.width+window.pageXOffset+8)+"px",top:Math.round(rect.top+rect.height+window.pageYOffset+8)+"px"})}}},{key:"getCurrentSize",value:function(){return[this.img.width,Math.round(this.img.width/this.img.naturalWidth*this.img.naturalHeight)]}}]),ImageResize}()},function(module,exports,__webpack_require__){"use strict";__webpack_require__(9),__webpack_require__(10),__webpack_require__(1),__webpack_require__(2),__webpack_require__(3),__webpack_require__(4),__webpack_require__(6),__webpack_require__(8),__webpack_require__(5),__webpack_require__(7),__webpack_require__(0)},function(module,exports,__webpack_require__){var g=function(){return this}()||Function("return this")(),hadRuntime=g.regeneratorRuntime&&Object.getOwnPropertyNames(g).indexOf("regeneratorRuntime")>=0,oldRuntime=hadRuntime&&g.regeneratorRuntime;if(g.regeneratorRuntime=void 0,module.exports=__webpack_require__(15),hadRuntime)g.regeneratorRuntime=oldRuntime;else try{delete g.regeneratorRuntime}catch(e){g.regeneratorRuntime=void 0}},function(module,exports){!function(global){"use strict";function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return generator._invoke=makeInvokeMethod(innerFn,self,context),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}function defineIteratorMethods(prototype){["next","throw","return"].forEach(function(method){prototype[method]=function(arg){return this._invoke(method,arg)}})}function AsyncIterator(generator){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==typeof value&&hasOwn.call(value,"__await")?Promise.resolve(value.__await).then(function(value){invoke("next",value,resolve,reject)},function(err){invoke("throw",err,resolve,reject)}):Promise.resolve(value).then(function(unwrapped){result.value=unwrapped,resolve(result)},reject)}reject(record.arg)}function enqueue(method,arg){function callInvokeWithMethodAndArg(){return new Promise(function(resolve,reject){invoke(method,arg,resolve,reject)})}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}var previousPromise;this._invoke=enqueue}function makeInvokeMethod(innerFn,self,context){var state=GenStateSuspendedStart;return function(method,arg){if(state===GenStateExecuting)throw new Error("Generator is already running");if(state===GenStateCompleted){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if(state===GenStateSuspendedStart)throw state=GenStateCompleted,context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state=GenStateExecuting;var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?GenStateCompleted:GenStateSuspendedYield,record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state=GenStateCompleted,context.method="throw",context.arg=record.arg)}}}function maybeInvokeDelegate(delegate,context){var method=delegate.iterator[context.method];if(method===undefined){if(context.delegate=null,"throw"===context.method){if(delegate.iterator.return&&(context.method="return",context.arg=undefined,maybeInvokeDelegate(delegate,context),"throw"===context.method))return ContinueSentinel;context.method="throw",context.arg=new TypeError("The iterator does not provide a 'throw' method")}return ContinueSentinel}var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=undefined),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=undefined,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:undefined,done:!0}}var undefined,Op=Object.prototype,hasOwn=Op.hasOwnProperty,$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag",inModule="object"==typeof module,runtime=global.regeneratorRuntime;if(runtime)return void(inModule&&(module.exports=runtime));runtime=global.regeneratorRuntime=inModule?module.exports:{},runtime.wrap=wrap;var GenStateSuspendedStart="suspendedStart",GenStateSuspendedYield="suspendedYield",GenStateExecuting="executing",GenStateCompleted="completed",ContinueSentinel={},IteratorPrototype={};IteratorPrototype[iteratorSymbol]=function(){return this};var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);GeneratorFunction.prototype=Gp.constructor=GeneratorFunctionPrototype,GeneratorFunctionPrototype.constructor=GeneratorFunction,GeneratorFunctionPrototype[toStringTagSymbol]=GeneratorFunction.displayName="GeneratorFunction",runtime.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},runtime.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,toStringTagSymbol in genFun||(genFun[toStringTagSymbol]="GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},runtime.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),AsyncIterator.prototype[asyncIteratorSymbol]=function(){return this},runtime.AsyncIterator=AsyncIterator,runtime.async=function(innerFn,outerFn,self,tryLocsList){var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList));return runtime.isGeneratorFunction(outerFn)?iter:iter.next().then(function(result){return result.done?result.value:iter.next()})},defineIteratorMethods(Gp),Gp[toStringTagSymbol]="Generator",Gp[iteratorSymbol]=function(){return this},Gp.toString=function(){return"[object Generator]"},runtime.keys=function(object){var keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},runtime.values=values,Context.prototype={constructor:Context,reset:function(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=undefined,this.done=!1,this.delegate=null,this.method="next",this.arg=undefined,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=undefined)},stop:function(){this.done=!0;var rootEntry=this.tryEntries[0],rootRecord=rootEntry.completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function(exception){function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=undefined),!!caught}if(this.done)throw exception;for(var context=this,i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc},"next"===this.method&&(this.arg=undefined),ContinueSentinel}}}(function(){return this}()||Function("return this")())}]);